<?xml version="1.0" encoding="UTF-8"?>
<testcase id="validate-fhir-patient-with-ig-and-profile" xmlns="http://www.gitb.com/tdl/v1/" xmlns:gitb="http://www.gitb.com/core/v1/">
    <metadata>
        <gitb:name>Validate FHIR Patient Resource - With IG and Profile</gitb:name>
        <gitb:version>1.0</gitb:version>
        <gitb:description>Validates a FHIR Patient resource against both implementation guide and profile constraints using JSON validator with FHIR plugin</gitb:description>
    </metadata>
    
    <actors>
        <gitb:actor id="json-validator" name="JSON Validator" role="SUT"/>
    </actors>
    
    <steps>
        <interact id="userData" desc="Upload FHIR Patient JSON file to validate">
            <request desc="FHIR Patient JSON file to validate:" name="patientFile" inputType="UPLOAD" required="true"/>
        </interact>
        
        <verify handler="XmlValidator" desc="Validate FHIR Patient resource with IG and Profile">
            <input name="xml">$userData{patientFile}</input>
        </verify>
    </steps>
    
    <output>
        <success>
            <default>"FHIR Patient validation with IG and Profile succeeded."</default>
        </success>
        <failure>
            <default>"FHIR Patient validation with IG and Profile failed. Refer to the failed step's report for more details."</default>
        </failure>
    </output>
</testcase>

